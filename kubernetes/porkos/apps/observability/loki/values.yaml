loki:
  deploymentMode: SingleBinary
  loki:
    auth_enabled: false
    analytics:
      reporting_enabled: false
    server:
      log_level: info
    commonConfig:
      replication_factor: 1
    compactor:
      working_directory: /var/loki/compactor/retention
      delete_request_store: filesystem
      retention_enabled: true
    image:
      tag: 3.4.0
    ingester:
      chunk_encoding: snappy
    storage:
      type: filesystem
    schemaConfig:
      configs:
        - from: "2024-08-01"
          store: tsdb
          object_store: filesystem
          schema: v13
          index:
            prefix: loki_index_
            period: 24h
    structuredConfig:
      ruler:
        enable_api: true
        enable_alertmanager_v2: true
        alertmanager_url: http://alertmanager-operated.observability.svc.cluster.local:9093
        storage:
          type: local
          local:
            directory: /rules
        rule_path: /rules/fake
    limits_config:
      retention_period: 14d
      ingestion_rate_strategy: local
      per_stream_rate_limit: 100MB
  singleBinary:
    replicas: 1
    persistence:
      enabled: true
      storageClass: rook-ceph-block
      size: 50Gi
  gateway:
    replicas: 0
  backend:
    replicas: 0
  read:
    replicas: 0
  write:
    replicas: 0
  chunksCache:
    enabled: false
  resultsCache:
    enabled: false
  lokiCanary:
    enabled: false
  test:
    enabled: false
  sidecar:
    image:
      repository: ghcr.io/kiwigrid/k8s-sidecar
    rules:
      searchNamespace: ALL