version: v1alpha1
debug: false
persist: true
machine:
    type: controlplane
    token: ENC[AES256_GCM,data:y8Bio8Si660k1MeypuqyNIl3efd0F5U=,iv:wGo3UiMmYmwkc4LALXABeOaCrJYCrckyYNxf0vUphps=,tag:yPq94iHr09cK96S5STnncA==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:VXGxblcc4RugJdp93VjKJj5lz+fCWZV7O/xNA7SBiRBx/BO9U40yAb+im7ZwkzK6Y9B0kpPYF24OHWIK1XdH2CrrPVjW6lq3Jx43Io4Pu3Qqa3NshK3CK9iev3dqUtsWwCscOR3ZQOkJnMZH6wUDt1Xv7bT7o5GcAoGWbOReMAZ+Qi7DM3Povs0wJ4uDhqTS5uRYTbZFswTpVRdIuVqEBFsbLyZZUMsvr6Wq1zDkfkPJFKXZ4OUDrG20YU7KrMss/jfnuPdkO9kdm8GpmJgOHY7HT2Dw7i9eGumdSCBlucz2meZYo6zrfyrwdnQxFM/8i3xPzlXVDuc3zKohqxXDHBDKnjdCj8riUUx8gK/k5iPatZ3uvMQu0k+Lwt5h1eXuPNG3JJtTzVcALSX+gilSOB/NbiCFtSiEJI41qeA4m47fVCeXmP9I2srKQVNLyA9fPwEm5+IX+wdf/pMXOSGXY0LsS4Dzyny4manANjEN9+/DzUdpxKSw6gLUTnEZTOW69LSm2n4mnoxKNqLNz2sreYsMggQoai5E84eXpuLD/f8kUrfVdjQ3MzXg64q6LUI9ODlrEdAbMzjLtJ3qTckSDpFz0gF+vGzJMNtT1IRUQ8YoNjVzWfdEsQ5Z9a3EfvnUvZxo1IjlXQruIZlTyZhTuT06g5hIry+3crxHAKOwAsp/Itq5xe9ZMbPP1PjHQiyWrjq353HD08P98AD3wW6khl1G1iK0zwmWPVwECi87o8E2SyRarulw+/D395sMWFUwH7FrHgqTtHq9vSso4tdxShHmvucVrhc33lPDb1KhfgQPZgCx0CmuzCPQP8jWliZj1KBYWH9hdc2gWwN8PQZ8nTxfromnBIf1N/q5jEH/w9FwunZA,iv:nCoC8iGUKs+tmh66uRFLhh423wcv+czIOt1ETgsqqdI=,tag:l0xV/z3wCDt4gBPcZFi09g==,type:str]
        key: ENC[AES256_GCM,data:5hjuIb0wDWrTCbFVJ4cIVkWLrHTxXbVdnx6NWUmaf9TFlTzW5q3lg+Pq1M9YCIDJEl6Z3K0icrpWq1I/FaNEzZun+huO05N71IxWdhT5WSd3/Ngho292SuKR54jmb8pdkBGqfpxQOzwgQ63R4aLke7WVKxlqUqDfFUpHogjjbzQtHysGiT6dM/pfnGKm2V4+jAuub0Lfgjgm/lEsvLevrYNFfAsfA1kQmQqKNM2gkbl0mHYy,iv:ReDo91i6jgEeqPWelMP1trplTMZrAK0N4yl0B9f2ZCE=,tag:jo9NZO7nWb0gZIAClCez5Q==,type:str]
    certSANs:
        - 127.0.0.1
        - 10.3.0.5
    kubelet:
        image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
        extraArgs:
            rotate-server-certificates: "true"
        extraConfig:
            maxPods: 150
        extraMounts:
            - destination: /var/mnt/extra
              type: bind
              source: /var/mnt/extra
              options:
                - bind
                - rshared
                - rw
        defaultRuntimeSeccompProfileEnabled: true
        nodeIP:
            validSubnets:
                - 10.3.0.0/24
        disableManifestsDirectory: true
    network:
        hostname: katara
        interfaces:
            - deviceSelector:
                hardwareAddr: 88:ae:dd:72:2c:08
                driver: igc
              dhcp: true
              vip:
                ip: 10.3.0.5
    install:
        diskSelector:
            model: Samsung SSD 870
        extraKernelArgs:
            # Meteor Lake CPU
            - i915.enable_guc=3
            # Less security, faster puter
            - apparmor=0
            # Less security, faster puter
            - init_on_alloc=0
            # Less security, faster puter
            - init_on_free=0
            # PCI Passthrough
            - intel_iommu=on
            # PCI Passthrough
            - iommu=pt
            # Less security, faster puter
            - mitigations=off
            # Less security, faster puter
            - security=none
        image: factory.talos.dev/installer/46aab27aae8e244a9afc08e150e73e5224bf968cc937830a3c544be7c7a4bce9:{{ ENV.TALOS_VERSION }}
        wipe: false
    disks:
        - device: /dev/disk/by-id/nvme-Corsair_MP600_MICRO_A828B44200BZRT
          partitions:
            - mountpoint: /var/mnt/extra
    files:
        - op: create
          path: /etc/cri/conf.d/20-customization.part
          content: |
            [plugins."io.containerd.cri.v1.images"]
              discard_unpacked_layers = false
        - op: overwrite
          path: /etc/nfsmount.conf
          permissions: 420
          content: |
            [ NFSMount_Global_Options ]
            nfsvers=4.2
            hard=True
            nconnect=16
            noatime=True
    sysctls:
        # Watchdog
        fs.inotify.max_user_watches: 1048576
        # Watchdog
        fs.inotify.max_user_instances: 8192
        # PostgreSQL
        vm.nr_hugepages: 1024
        # Send and accept data in the opening SYN packet
        net.ipv4.tcp_fastopen: 3
        # 10Gb/s | Cloudflared / QUIC
        net.core.rmem_max: 67108864
        # 10Gb/s | Cloudflared / QUIC
        net.core.wmem_max: 67108864
    sysfs:
        devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1
        devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu4.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu5.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu6.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu7.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu8.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu9.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu10.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu11.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu12.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu13.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu14.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu15.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu16.cpufreq.energy_performance_preference: balance_performance
        devices.system.cpu.cpu17.cpufreq.energy_performance_preference: balance_performance
    features:
        rbac: true
        stableHostname: true
        kubernetesTalosAPIAccess:
            enabled: true
            allowedRoles:
                - os:admin
            allowedKubernetesNamespaces:
                - kube-system
        apidCheckExtKeyUsage: true
        diskQuotaSupport: true
        kubePrism:
            enabled: true
            port: 7445
        hostDNS:
            enabled: true
            resolveMemberNames: true
            forwardKubeDNSToHost: false
    udev:
        rules:
            # Thunderbolt
            - ACTION=="add", SUBSYSTEM=="thunderbolt", ATTR{authorized}=="0", ATTR{authorized}="1"
            # Intel GPU
            - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
    kernel:
        modules:
            - name: nbd
            - name: thunderbolt
    nodeLabels:
        topology.kubernetes.io/region: porkos
        topology.kubernetes.io/zone: porkos
cluster:
    id: ENC[AES256_GCM,data:i3wc7FuHCXfnbFx48Zrw7kAoL2H5wuR0Tte3i3QYjKQv25GPJfFiZMBAflQ=,iv:HNfIuJYsSKGejup8K5S+iN9EH2QnPrqTSCtlsYP/yQE=,tag:dV6e7FknfJVqAuyJHPtREw==,type:str]
    secret: ENC[AES256_GCM,data:dtGuCip8Xab/savOLjjcPEi6W+fDVuz3AeDEvt5cwB0v3xmuT1rYzmQmtsw=,iv:scOZh7iMfkbUy65cD8MwqlU8dz/v+deDhkbcT6RGUhs=,tag:v4Q53n/cvHoJURpQjK890g==,type:str]
    controlPlane:
        endpoint: https://10.3.0.5:6443
    clusterName: porkos
    network:
        cni:
            name: none
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
    coreDNS:
        disabled: true
    token: ENC[AES256_GCM,data:vnVSrH4GWl/D141WQnJOLs2qCULvkyc=,iv:EhzEtvxjnBNr+4WI80JAH/BmfWE9aNF5vjeHq54rG7I=,tag:t8d7yCvRgJbOSnpAwme7FQ==,type:str]
    secretboxEncryptionSecret: ENC[AES256_GCM,data:IqfmlRB1b+aeSph8uR+rJxEIJQds4mWr8RYEN9CmAOlStTP/+TDpo1BDbuU=,iv:5SEaji3LPJZZw9N0b6cHLiqF9tE3erBiCm2BLqJNfdw=,tag:DRRxDWeuq9Jgs1oRe3vJDg==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:M1MnD0cFki99HLlL+J4etRa+m5usSFDTraP02/12jalKC8o50R33HWqJdaJ70SbW6JHeXPEW4ie+IdIrNYIG03X56ahhCS30p7su/uOZ0K3bobKC//djDsD/Bqzf8uPXVOpoqOwkbab8OTfUrmjJHBrCo9f2LahctNRFlOlPA8bnOwtFuosK03aAhMa0Dnt9v1aeZFxvt3LMLE87OX+HgvkudgJwqxRPA2b3uW9PpznmtWAnXCufMKjCDwFBARWpeKZcSJmFbsnB0hVcUOIHn43yIP2B26sVFEtvzzNHzURpopMgTOpv4+w+ylXFGzlvfc2Lw5G74rwigkZOfU1DVYmfDC3P71GqauNi7YCj5SmWqFMzwbTS0oJHMcm1z2sC2jgqrsTJtU07QM2fqChZ6hZK2lEN7wxIzhcH44out6dBPi03axkx9yX/mdNR7kPWCJo9Vc3Xhwk/80PoreqAWw7YYg1pK19T36ROW8sN/DyC+ikQFdynqIreZfvkcef+u46KszH2xlk4CKkLL8MNXvxV1pJB2OMARJWAe7BQ0gjh0ZAs9GWRcwerTwtyrOreiyec9C+k8PUdEF8+54d0Cam4UnJEUSpactnQxZxkpbUK69jN3QsFe3ssXbj8LOZhl9fJsz6ELvDr9oNKs63TAAauaULY0Ll7n+AvD0Q94wXskQUiszosKAUG+9Njic86vjniM0tMPReGXZV1ltKbebD0YmOpCMvAiKuJoRi/yvIWy5sIJvqa+IGBcqo9H1SkBpW4uGDLM49muunfu0oi4Mp4vWLxgb8FdHRT7/tANNp9uTfT749zA787UfAJ4wd9q4zb+3ZsalD16CSh8WpkCej9fgQNTmEVbPfu7Av8HllgD+8PcfX1/OqOTXTjE6gYUQzK9ISBjFv7RuXTv3TSIu6t8awEF28dqLgiKJ98TicujA+bH8S10GUMhWDgniiGxrvy3JbeRAPb8od7UOYACwd3tCbkAPOw+ImcTZ2ukU/6Mevpccd7/JnH/4NTTr3b4EnxYAEt//kkRW48hiZA4vjN7SnYePTQiCqOzA==,iv:mnp8817ImYJ+0BRD8IkFjeUqqiqKLXALDQBtndnxX5c=,tag:OWAXIBP166oAts4yoZ96bg==,type:str]
        key: ENC[AES256_GCM,data:pg3BZ6h40Th2iuQ9yJkUvg13oygkMTtSoppnCbMLYlpCb2zaXTgpoYF+KhdD4VuZgxjsGwJ5bCYBeDiIyD/VvZ9EyHIUCbjOBsFHC/nnPrqfCryal9d0GXsiCpSrQ9+I+VMdPKuXlao9MxBiqtCpl0X4bXrnSbQbJ473KHjbPplzCOu3zVW0RpjP35Pk6NZ49NurAhSWbwpO+uHuIQZZF+/OHiOvzLQt3/Ouitu+oK/7XCvzZocXavSOp9xMf1pv64UmKa8tMO5UNPSoBwfv2KMPhxlUvRlmFFK4vTUTmPDZ4QxQYjci80eiWSXhyd8GnoYi3qCkiXzss0mL8pP45x9Q0Att7R9hVRyd37TyqHLDgNRFFX/BpmWPZRTTVAKc/AmAnEH2TUFAgN9rA4aaog==,iv:8AY+7CEnRRnheJBQoMlYkJ/9ihc79nSTpNKFozUhQYk=,tag:RxiPrByG/dAIsCC8QVb/8g==,type:str]
    aggregatorCA:
        crt: ENC[AES256_GCM,data:PHLd3qKZ2A3U+Xay+05PNo37k3MUrZLDKkjDYajD6Jfocuh8hrrvtwsOpu/WsRkF12LuXDogc2VC0a9u/6ibNXRQFYmkqoVTQ5XtEAw27q93TBgInlBbWKotATCEJ0O7f5leBksbPhTP74B3kk89z/at5lZyMCgz0SjkjvgXqN+uoqE/m98tRg0/xqdk9y9vmry+Fcqew2CjuppozoE7XCNNIr32y2fQjNMCR5O8dTxtdu8/1Mu/7y8AwZZpusrbcaIhM1Iq8AYASJ/t/xavUp+x4qPNcCFMl/w14BaZ/SFl8NTwe5JvYc6T9ABJpk7sNXXso9DC40asSca/kMitWIXKYt4yWmp47tBw0IBdFRoHjejpkMHb2M5KNeLFvqByiUlV8/I5tSqQvCCHh+C4PIIBHXkRkeXIeBK0EdYZXZ2iu0isJyfCNkxdUwlGKxv8BGglPDnVgxMbJgLtiGUfCkndkpb+RpCq0cBQ+t4PlFZga+ScYhdFRzxLSEq/mY05FV2DWKYhTdOcv9+zUt8Orz3JDRDOPcZnr4j4yobWMYXD2EaxEh/Kw5/smqmMhgfm2JHdFsrqnUMXZPEwkcihNcJtojVbwW1Guxcz++80zY7rmtDnYxdXU2TfL/9NlQ4MwKGAEHKBYh0OZ+W+IlrBw7L2M+RejbNM6+aUnUopgyrc2mYeb8sR724pHrQbrC9lrIwXEAVTTUJFYQNKTBg9QwwDj9OibH5dH858qUInXgFmht+/hXMsgHXvLAa4jMgGOGkgvDQ9Y99EG4/WXs3kFkTOs/jJf5MDNKyqu8Ze5S1BiotdG8u0WEnaVkVtzjQ8PLhplM8Qh8o3Yc4zG9MoxjltyoIdQTtuHFbRcSXIl1TGrf3xsjNi40Ql3VEvfy+46nZnQ3QWaSJAPNimb3fnV9ur6J4v1aAYu0iLTjkuW3aaNSm5Yt4EHEAo4jGvoI31,iv:wnOV9J2fn+vUUmmXPKuFIITrcNfyF7AKm1CZsrZXC8I=,tag:EH6lbM8yEhb9HKcS6WJA7g==,type:str]
        key: ENC[AES256_GCM,data:fShsPJufxjBM9cuZaLjPLSyYJe4BgOP2BPD9nALpQfHjyRDAMvU4UQ3ATdrefFjgRAQzJfP/P4XhOvEorgAO0bSgtUccisEE0ulX6y8F0UyksJ3aUsKYpcO+vyFLJakP0yO+UMTWTF/bt7FhhN0KN74QRVJL6Rm9Krk1gk021IwkHZhUFFC5OzIB6uiIVgEJ6Wdzv3UwpxV2YuLlAK3rhXbQgDhLsSgXB7iWipI/piYSFqEuTC4KgMkub7RtL1OoBMLrfWx/Dce3UppIXxgCIhaA71QTozrWd0SFC7zUXgkbAxjM9GAhd5qkvy7hZ3lVmrGf9SUtowiKwU4RcmU3ppxPu3MHlGspjQC7t55B6iCYYxrNIQn2ONhm+KSk4by6P9RnHrwVR9azMVXTqUMI0g==,iv:GVvs6G3pbn+KO/HU+QIhvrYqT6zwQfRuWlWlFy8FK+U=,tag:d+ixEXLOW9+uTkSHMMn0Qw==,type:str]
    serviceAccount:
        key: ENC[AES256_GCM,data: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,iv:coc36FGMX5bhwCgYWhIr3VPFiXob2h4CpVtdTo1uAoE=,tag:f9jZV6hS1hjJrCv9Wj/gpA==,type:str]
    apiServer:
        image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
        extraArgs:
            feature-gates: AuthorizeNodeWithSelectors=false
        certSANs:
            - 127.0.0.1
            - 10.3.0.5
        disablePodSecurityPolicy: true
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    controllerManager:
        image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
        extraArgs:
            bind-address: 0.0.0.0
    proxy:
        disabled: true
    scheduler:
        image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
        extraArgs:
            bind-address: 0.0.0.0
        config:
            apiVersion: kubescheduler.config.k8s.io/v1
            kind: KubeSchedulerConfiguration
            profiles:
                - schedulerName: default-scheduler
                  pluginConfig:
                    - name: PodTopologySpread
                      args:
                        defaultingType: List
                        defaultConstraints:
                            - maxSkew: 1
                              topologyKey: kubernetes.io/hostname
                              whenUnsatisfiable: ScheduleAnyway
    discovery:
        enabled: true
        registries:
            kubernetes:
                disabled: false
            service:
                disabled: true
    etcd:
        ca:
            crt: ENC[AES256_GCM,data:fiOu3C2ymKFn7JP3zipVDTkVswrDqC8TSRY+EZqLnxjGpvwhnswLqP0lKATGp/aW3Yhyar3QNJlN/PTKaOyYmuPxdKa3gxYvWd8TxRP1T5f36e7mKlAI3ZK1F2gBywcT4+p5wLOqzHumAnhhIfdIcw38lXQRBgAJW7x4qhvoF/tXRoDhHIred8O3LD3mR+h9knhsL7O+gdOFOQi3ddj9a/h+Do53zfsqj5/LiQp5uxOTTFXymlJtaD9jS2IEXu0q74uIreqb+YXelg8Pi7ErSDlEiijnX4heH9ktvJG+OBJyw91uDF0mDBXs50nnkTU0afxLCw21olTPNay7HMszR2aNKztNdXzUpHqpui+ej0GsYn3FSrjaYYuCKd9W4Grv2jRf5Ae8P3KPIEPvqr6586lGHCwPRJCCaGduPAOjz803zm4Qats9O5V+Y845/Y0lT7+8hiqPr3QIWY5OIxukSCcm0H7sNrYWDhOZHNVXWgIZaEamrl+0qOJSjWAErxn4NYKADzwGV7+iur2YdNsqi2cjiffr1ov3ia1xjAvSjOVwq82JP3TEwiEHeYgUYMelU1R5zvPbsOfioLjpfNguXk/lhUxOhGThGas5ZxNstn6okb+4Fhm1fkXxoZF8hXX2+9cLMO2JZeBgVr2hK2UUPb2Ux0dH29t8Kw7agCEwgqS+6d8bINL8SvHA/bE+i1fQfKitEzslpJN5gdBrm6+qhrf3fBsWFcruXN5mFaK1w4RxPHo3gAzxIFkeBOUC265MfvbqGisRg5Ne8EpirxAfuEdewhpFy9JyQ9tA4xgHqUOmcLlj8R3+uuS+qYO8JZXkjmLULlCX3ccXP6bi5o7RLcERkihehPJI4x1NMIOYtt8kVJgmo3Q+nhajYt7Hki4BpCo1fxopmiuw2RMu2mbE2udKcKz+zJKQ9gXa3JJ7W4zA5HoIlvQdsOZnGP53gZRUX/s2Do6jxWwsnxnWNBVebI15XdPy5blEzKtjFEw2S49DMVDjbk0J36DOVYoAuDzfjmqfXQ==,iv:/TIuxR+1RCLCNyeOylmYUYLy3WafCjtSJThRhop2zyo=,tag:Psowo2tow+zpZv/ecgd/jA==,type:str]
            key: ENC[AES256_GCM,data:kVxyPlTLaCJeuvp7TsIMQzwcWTzg6PEM2U+tS4owHpnMAwBTBEd1+HVtD87LZ4+xYc7HEABxt7jTNWcNrDy27eMTGqE7MztM7FuuDRNTvbeqqrdlA1vlBayKNTB9B2mrAZdPQuhJSp7QhP0a0btCEujLrWsfatvQgqEnhE4CdcsNKE51LIikNQiLrTq737SiLtjjBSnLxgznnMPiiyv8VIMGx8VcxLVMO9FlpA9jqD/T2Q0gdi/D/pwWOt5YWg5BtsBWUmi7A3UKFetsmFa24aZTsEj7oQgFszFXtwFW0GdO7RW103T21+nUkPVidXNcqnQZDWzH+EP4fWD/VJHb7Mb4CjvOOU5iioU7vLF5S3sBmybBHirq7O30ZiES5tOVgylxAB+VucciBB4zaiFZVA==,iv:dUNqsw1ftAjFQKCUzppt3JClQ954UF8CFOVbIPr5Nf4=,tag:zHFQ8FvnzgP9cPfbpHI5bg==,type:str]
        extraArgs:
            listen-metrics-urls: http://0.0.0.0:2381
        advertisedSubnets:
            - 10.3.0.0/24
    allowSchedulingOnMasters: true
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age160xmmjztxl2n8pqfexusejr3xf9wz3f8ma2jpxjqde34n2jp795qw86wv9
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA3cEhQWUQ0S1labWVralZh
            VnVYaUdOaUNSTDhiTDU0ZVZ1NTU5eXZ4ZUMwClVYbVdJRllxYUxiczhTbGpVamlS
            ZklPZU5CME82UlorU3lFSXQ2dWFSOVEKLS0tIGNQUWtFd2JLTExkWEFlVWtWWVRv
            Rmx4bW1UeDNMRWdlOGM2cHJZcWR6cTgK+nGrW/yhhTpNQNgzi1LT+LyUNtLZG8Ra
            kwYsFSUyY0Gvqz+xWBYUqOgaR32GvpSshpe82hCK6iAVd3Voj+3S1A==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-12-31T01:21:56Z"
    mac: ENC[AES256_GCM,data:HXWhfz0O0YYnFfpuqrS1iksghayXUoYCSpJjAlos7vj7hXiVXHitDhWBi4ttVE7r9mV0+rLuvGlsHe2Z1FAwGs+fHVx0PJYhjU6/35GsIjlzc+Oc6yHF5hLwzzg14iOxNenbg+teIhaGj/2XXuKLJfryXnkz9bbmaxy6BX0/6wM=,iv:Kq4xKi4hGIccRvLsIGC40GroeeMWFlqXyZ3ljel12lk=,tag:EfeUCzFl+ltNho7zNYThRg==,type:str]
    pgp: []
    encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
    mac_only_encrypted: true
    version: 3.9.2
